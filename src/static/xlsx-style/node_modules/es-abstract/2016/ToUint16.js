'use strict';

var GetIntrinsic = require('es-abstract/GetIntrinsic');

var $Math = GetIntrinsic('%Math%');

var ToNumber = require('es-abstract/2016/ToNumber');

var $isNaN = require('es-abstract/helpers/isNaN');
var $isFinite = require('es-abstract/helpers/isFinite');
var $sign = require('es-abstract/helpers/sign');
var $mod = require('es-abstract/helpers/mod');

var $floor = $Math.floor;
var $abs = $Math.abs;

// http://www.ecma-international.org/ecma-262/5.1/#sec-9.7

module.exports = function ToUint16(value) {
	var number = ToNumber(value);
	if ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }
	var posInt = $sign(number) * $floor($abs(number));
	return $mod(posInt, 0x10000);
};
